<br>
<br>
<% if @my_bookings.present?%>
 <center><h1 class="bookings mt-5 text-primary display-6">Upcoming rides!</h1></center>
<% else %>
  <center><h1 class="bookings mt-5 text-primary display-6">Sad times - no rides booked yet!</h1></center>
  <center><h1 class="bookings mt-5 text-primary display-6">Get booking ðŸ‘‡</h1></center>
<% end %>

<div class="container mt-5 mb-5">
    <div class="cards">
      <% @my_bookings.each do |booking| %>
        <div class="card">
          <div class="card-category" style="background-image: linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0)),
            url(<%=booking.car.photo_url%>)">
            </div>
            <div class="card-body">
            <h5 class="card-title"><%= "#{booking.start_date} to #{booking.end_date}" %></h5>
            <p class="card-text"><%= "Brand: #{booking.car.brand} Model: #{booking.car.model}, Year: #{booking.car.year}" %></p>
            <% booking_duration = distance_of_time_in_words(booking.start_date, booking.end_date).split(" ").first.to_i %>
            <p class="card-text"><%= "Length of hire: #{booking_duration} days" %></p>
            <% booking_cost = (booking_duration * booking.car[:price])%>
            <p class="card-text"><%= "Hire total: Â£#{booking_cost.round}" %></p>
            <center><%= link_to "Cancel this booking", booking_path(booking), data: {turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this booking?"}, class: "btn btn-danger"%></center>
            </div>
          </div>
      <% end %>
    </div>
    <center><%= link_to "Book more!", cars_path, class:'btn btn-primary mb-5 btn-lg'%></center>
  </div>
